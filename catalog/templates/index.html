{% extends "base_generic.html" %}
{% load static %}

{% block content %}
    <br>
    <div class="container text-center d-md-none" style="background-color: #1e5553; color: white; border-radius:12px;">
        <h2 style="text-decoration: underline">Welcome to Wike Library</h2>
        <h5> Search our huge catalog for books you like.</h5>
    </div>

    <div id="carouselExampleCaptions" class="carousel slide" data-bs-ride="carousel"
         style="max-width: 85%; margin-left: 8%">
        <div class="carousel-indicators">
            <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="0" class="active"
                    aria-current="true" aria-label="Slide 1"></button>
            <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="1"
                    aria-label="Slide 2"></button>
            <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="2"
                    aria-label="Slide 3"></button>
        </div>
        <div class="carousel-inner">
            <div class="carousel-item active">
                 <img src="{% static "media/slidethree.jpg" %}" class="d-block w-100" alt="library">
                <div class="carousel-caption d-none d-md-block" style="margin-bottom: 10rem;">
                    <h2 style="background-color: #1e5553;">Welcome to Wike Library</h2>
                    <p></p>
                </div>
            </div>
            <div class="carousel-item">
                 <img src="{% static "media/slidetwo.jpg" %}" class="d-block w-100" alt="library">
                <div class="carousel-caption mb-4 d-none d-md-block">
                    <h3 style="background-color: #1e5553;">Check out our huge catalog for books you love</h3>
                    <p></p>
                </div>
            </div>
            <div class="carousel-item">
                <img src="{% static "media/slideone.jpg" %}" class="d-block w-100" alt="library">
                <div class="carousel-caption mb-5 d-none d-md-block">
                    <h3 style="background-color: #1e5553;">Create an account to enjoy user benefits</h3>
                    <p></p>
                </div>
            </div>
        </div>
        <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleCaptions"
                data-bs-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Previous</span>
        </button>
        <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleCaptions"
                data-bs-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Next</span>
        </button>
    </div>
    <br/>

    <div class="container">
        <h2>Latest:</h2>
        <div class="row row-cols-2 row-cols-md-3 row-cols-lg-4 g-5 mb-3">
        {% if latest %}
            {% for book in latest %}
                <div class="col">
                    <div class="card h-100">
                        <a class="" href="{{ book.get_absolute_url }}">
                            <img src="{{ book.image.url }}" class="card-img-top img-fluid" alt="book cover"
                                 style="height: 15vw;  object-fit: cover;">
                        </a>
                        <div class="card-body">
                            <blockquote class="blockquote mb-0">
                                <a href="{{ book.get_absolute_url }}" style="text-decoration: none"><h5
                                        class="card-title">{{ book.title }}</h5></a>
                                <a href="{{ book.author.get_absolute_url }}" style="text-decoration: none">
                                    <footer class="blockquote-footer">{{ book.author }}</footer>
                                </a>
                            </blockquote>
                        </div>
                    </div>
                </div>
            {% endfor %}
        {% endif %}
        </div>
        <div class="container d-flex justify-content-end m-2">
            <a href="{% url 'books' %}">
                <button type="button" class="btn btn-outline-secondary btn-sm">See All</button>
            </a>
        </div>
        <hr>
    </div>

    <div class="container">
        <h2>All Books:</h2>
        <div class="row row-cols-2 row-cols-md-3 row-cols-lg-4 g-5 mb-3">
            {% for book in books %}
                <div class="col">
                    <div class="card h-100">
                        <a class="" href="{{ book.get_absolute_url }}">
                            <img src="{{ book.image.url }}" class="card-img-top img-fluid" alt="book cover"
                                 style="height: 15vw;  object-fit: cover;">
                        </a>
                        <div class="card-body">
                            <blockquote class="blockquote mb-0">
                                <a href="{{ book.get_absolute_url }}" style="text-decoration: none"><h5
                                        class="card-title">{{ book.title }}</h5></a>
                                <a href="{{ book.author.get_absolute_url }}" style="text-decoration: none">
                                    <footer class="blockquote-footer">{{ book.author }}</footer>
                                </a>
                            </blockquote>
                        </div>
                    </div>
                </div>
            {% endfor %}
        </div>
        <div class="container d-flex justify-content-end m-2">
            <a href="{% url 'books' %}">
                <button type="button" class="btn btn-outline-secondary btn-sm">See All</button>
            </a>
        </div>
        <hr>
    </div>

    <div class="container">
        <h2>Genres:</h2>
        <div class="row mb-3">
            {% for genre in genres %}
                <div class="col col-md-3  mb-2">
                    <div class="card h-100">
                        <div class="card-body d-flex flex-column">
                            <h4 class="card-title">{{ genre.name }}</h4>
                            <a href="{{ genre.get_absolute_url }}" class="btn btn-primary mt-auto">View books</a>
                        </div>
                    </div>
                </div>
            {% endfor %}
            <div class="container d-flex justify-content-end m-2">
                <a href="{% url 'genres' %}">
                    <button type="button" class="btn btn-outline-secondary btn-sm">See All Genres</button>
                </a>
            </div>
            <hr>
        </div>
    </div>

    <div class="container">
        <h2>Authors:</h2>
        <div class="row mb-3">
            {% for author in authors %}
                <div class="col col-md-3 mb-2">
                    <div class="card h-100">
                        <div class="card-body d-flex flex-column">
                            <h4 class="card-title">{{ author.first_name }} {{ author.last_name }}</h4>
                            <a href="{{ author.get_absolute_url }}" class="btn btn-primary mt-auto">View books</a>
                        </div>
                    </div>
                </div>
            {% endfor %}
            <div class="container d-flex justify-content-end">
                <a href="{% url 'authors' %}" class="m-2">
                    <button type="button" class="btn btn-outline-secondary btn-sm">See All Authors</button>
                </a>
            </div>
            <hr>
        </div>
    </div>

{% endblock %}